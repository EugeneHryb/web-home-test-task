(this["webpackJsonpweb-home-test-task"]=this["webpackJsonpweb-home-test-task"]||[]).push([[0],[,,,,,function(e,t,a){e.exports={wrapper:"CommentForm_wrapper__gDS1Z","input-wraper":"CommentForm_input-wraper__2iC1u",warning:"CommentForm_warning__3GOBD"}},,,function(e,t,a){e.exports={container:"Comment_container__37ide",name:"Comment_name__1GXKW",date:"Comment_date__1zdrQ",comment:"Comment_comment__1_9rC"}},function(e,t,a){e.exports={wraper:"PaginationButom_wraper__1IDeg",button:"PaginationButom_button__39BPs",label:"PaginationButom_label__2Yfv0",active:"PaginationButom_active__8V2fY"}},function(e,t,a){e.exports={wraper:"CommentsList_wraper__14csq","pagination-list":"CommentsList_pagination-list__2bkIl",more:"CommentsList_more__22UTp","coments-list":"CommentsList_coments-list__3nUZ0"}},function(e,t,a){e.exports={bacground:"PopUp_bacground__3sqSl",container:"PopUp_container__3zayN",close:"PopUp_close__1lnfy",message:"PopUp_message__1dNS1"}},,,function(e,t,a){e.exports={background:"App_background__365rC",container:"App_container__26Vhj"}},function(e,t,a){e.exports={wrapper:"Buttom_wrapper__24A__",buttom:"Buttom_buttom__3xX-6"}},,,,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(17),s=a.n(r),o=(a(22),a(14)),i=a.n(o),u=a(16),m=a(4),l=a.n(m),b=a(7),p=a(3);var j=function(e){return"".concat(e.getDate(),".").concat((t=e.getMonth(),(t+=1)<10?"0"+t:t.toString()),".").concat(e.getFullYear()," ").concat(e.getHours(),":").concat(e.getMinutes());var t},_=a(8),d=a.n(_),O=a(0);var x=function(e){var t=new Date(e.updated_at);return Object(O.jsxs)("li",{className:d.a.container,children:[Object(O.jsx)("h3",{className:d.a.name,children:e.name}),Object(O.jsx)("p",{className:d.a.comment,children:e.text}),Object(O.jsxs)("span",{className:d.a.date,children:["Updated: ",j(t)]})]})};var f=function(e){return e=(e=e.replace("&laquo;","\xab")).replace("&raquo;","\xbb")},h=a(9),g=a.n(h);var v=function(e){return Object(O.jsx)("li",{className:g.a.wraper+" "+(e.active?g.a.active:""),children:Object(O.jsx)("a",{href:"#",className:g.a.button,onClick:function(t){t.preventDefault(),isNaN(e.getPage)&&e.goToPage(e.getPage)},children:Object(O.jsx)("span",{className:g.a.label,children:f(e.label.toString())})})})},w=a(15),k=a.n(w);var N=function(e){return Object(O.jsx)("div",{className:k.a.wrapper,children:Object(O.jsx)("button",{className:k.a.buttom,type:e.buttomTypes,onClick:e.buttomOnclick,children:e.content})})},C=a(10),S=a.n(C),y={firstPage:"https://jordan.ashton.fashion/api/goods/30/comments",sendComments:"https://jordan.ashton.fashion/api/goods/30/comments"},P=a(2),T=a(11),B=a.n(T);var F=function(e){return Object(O.jsx)("div",{className:B.a.bacground,children:Object(O.jsxs)("div",{className:B.a.container,children:[Object(O.jsx)("a",{href:"#",className:B.a.close,onClick:e.close}),Object(O.jsx)("p",{className:B.a.message,children:e.message})]})})},D=a(5),L=a.n(D);var U=function(e){var t=Object(n.useState)({name:"",text:""}),a=Object(p.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({name:!1,text:!1}),o=Object(p.a)(s,2),i=o[0],u=o[1],m=Object(n.useState)(!1),j=Object(p.a)(m,2),_=j[0],d=j[1];function x(e){return f.apply(this,arguments)}function f(){return(f=Object(b.a)(l.a.mark((function t(a){var n,s,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=function(){u(Object(P.a)(Object(P.a)({},i),{},{name:!1}))},s=function(){u(Object(P.a)(Object(P.a)({},i),{},{text:!1}))},o=function(){d(!1)},a.preventDefault(),!(c.name.length<3)){t.next=10;break}u(Object(P.a)(Object(P.a)({},i),{},{name:!0})),setTimeout(n,1e4),t.next=19;break;case 10:if(!(c.text.length<3)){t.next=15;break}u(Object(P.a)(Object(P.a)({},i),{},{text:!0})),setTimeout(s,1e4),t.next=19;break;case 15:return t.next=17,fetch(y.sendComments,{method:"post",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 17:t.sent.ok&&(e.resetPage(),r({name:"",text:""}),d(!0),setTimeout(o,1e4));case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.error("CommentForm function formHangler",t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))).apply(this,arguments)}var h=Object(O.jsx)(F,{message:"Comment posted",close:function(){d(!1)}});return Object(O.jsxs)("form",{onSubmit:x,className:L.a.wrapper,children:[Object(O.jsxs)("div",{className:L.a["input-wraper"],children:[Object(O.jsx)("input",{type:"text",name:"yourName",placeholder:"Your name",onChange:function(e){return r(Object(P.a)(Object(P.a)({},c),{},{name:e.target.value}))},value:c.name}),i.name?Object(O.jsx)("span",{className:L.a.warning,children:"There must be at least two letters."}):""]}),Object(O.jsxs)("div",{className:L.a["input-wraper"],children:[Object(O.jsx)("textarea",{type:"text",name:"comment",placeholder:"Write your comment",onChange:function(e){return r(Object(P.a)(Object(P.a)({},c),{},{text:e.target.value}))},value:c.text}),i.text?Object(O.jsx)("span",{className:L.a.warning,children:"There must be at least four letters."}):""]}),Object(O.jsx)(N,{buttomTypes:"submit",buttomOnclick:x,content:"Submit"}),_?h:""]})};var q=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(p.a)(r,2),o=s[0],i=s[1],m=Object(n.useState)([]),j=Object(p.a)(m,2),_=j[0],d=j[1],f=Object(n.useState)([]),h=Object(p.a)(f,2),g=h[0],w=h[1],k=Object(n.useState)(!1),C=Object(p.a)(k,2),P=C[0],T=C[1],B=Object(n.useState)(!0),F=Object(p.a)(B,2),D=F[0],L=F[1],q=Object(n.useState)(""),I=Object(p.a)(q,2),Y=I[0],A=I[1];function J(e){e.last_page==e.current_page?L(!1):L(!0)}function M(e){return z.apply(this,arguments)}function z(){return(z=Object(b.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(t),e.next=4,fetch(t,{method:"get"});case 4:if(!(a=e.sent).ok){e.next=14;break}return e.next=8,a.json();case 8:n=e.sent,d(n.data),i([n.current_page]),w(n.links),A(n.next_page_url),J(n);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",{eror:e.t0});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function E(){return G.apply(this,arguments)}function G(){return(G=Object(b.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),c(Y),e.next=5,fetch(Y,{method:"get"});case 5:if(!(t=e.sent).ok){e.next=17;break}return e.next=9,t.json();case 9:a=e.sent,d(Object(u.a)(_.concat(a.data))),A(a.next_page_url),i([].concat(Object(u.a)(o),[a.current_page])),n=a.links.map((function(e){for(var t=0;t<o.length;t++)e.label==o[t]&&(e.active=!0);return e})),w(n),J(a),T(!1);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("CommentsList function show more",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}Object(n.useEffect)((function(){M(y.firstPage)}),[]);var H=_.map((function(e){return Object(O.jsx)(x,{name:e.name,text:e.text,created_at:e.created_at,updated_at:e.updated_at},e.id)})),V=g.map((function(e){return Object(O.jsx)(v,{active:e.active,label:e.label,getPage:e.url,goToPage:M},e.label)}));return Object(O.jsxs)("div",{className:S.a.wraper,children:[Object(O.jsx)("ul",{className:S.a["coments-list"],children:H}),Object(O.jsx)("div",{className:S.a.more,children:P?Object(O.jsx)("spam",{children:"Loading...."}):!P&&D?Object(O.jsx)(N,{buttomTypes:"buttom",content:"Show more",buttomOnclick:E}):""}),Object(O.jsx)("ul",{className:S.a["pagination-list"],children:V}),Object(O.jsx)(U,{resetPage:function(){M(a)}})]})};var I=function(){return Object(O.jsx)("div",{className:i.a.background,children:Object(O.jsx)("div",{className:i.a.container,children:Object(O.jsx)(q,{})})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,26)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root")),Y()}],[[25,1,2]]]);
//# sourceMappingURL=main.d61c2ca9.chunk.js.map